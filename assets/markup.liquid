{% comment %}TTT New Search Bar{% endcomment %}

<style>
    .theme-s {
        position: absolute;
        top: 52px;
        left: 0;
        right: 0;
    }

    @media (min-width: 768px) {
        .theme-s {
            width: 400px;
            display: table-cell;
            vertical-align: middle;
            height: 100%;
            position: unset;
            top: unset;
            left: unset;
            right: unset;
        }
    }

</style>
<div class="theme-s" style="display:table-cell;vertical-align:middle;height:100%;">


    <div class="n-s-container">
        <form action="/search" method="get" role="search">
            <select class="n-s-types">
                <option value="All">All</option>
                {% for product_type in shop.types %}
                {% if product_type != "" %}
                <option value="{{product_type}}">{{ product_type }}&nbsp;&nbsp;</option>
                {%endif%}

                {% endfor %}
            </select>
            <div class="n-s-types-arrow"><span></span><span></span></div>
            <input name="q" aria-label="Search" class="n-s-input" type="search" placeholder="Search" autocorrect="off"
                autocomplete="off" autocapitalize="off" spellcheck="off" />
            <button class="n-s-clear" type="button" aria-label="Clear">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z" />
                </svg>
            </button>
            <button class="n-s-submit" type="submit" aria-label="Submit">
                <svg xmlns="http://www.w3.org/2000/svg" fil="#ffffff" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M9.145 18.29c-5.042 0-9.145-4.102-9.145-9.145s4.103-9.145 9.145-9.145 9.145 4.103 9.145 9.145-4.102 9.145-9.145 9.145zm0-15.167c-3.321 0-6.022 2.702-6.022 6.022s2.702 6.022 6.022 6.022 6.023-2.702 6.023-6.022-2.702-6.022-6.023-6.022zm9.263 12.443c-.817 1.176-1.852 2.188-3.046 2.981l5.452 5.453 3.014-3.013-5.42-5.421z" />
                </svg>
            </button>
        </form>
        <div class="n-s-results" tabindex="0"></div>
        <div class="n-s-overlay"></div>
    </div>
    <script>
        window.NSConfig = {
            resultTypes: [
                "product", "collection", "page"
            ],
            showTypesSelect: true,
            allTypesStr: "All",
        }
        if ( !window.NSConfig.showTypesSelect ) {
            document.querySelector( ".n-s-types" ).classList.add( "hide" )
        }
    //</script>
    <script src="{{ 'n-s-search.js' | asset_url }}" async="defer"></script>

</div>
